import pytest
from lab_5 import transform_tuple
from lab_5 import grade_summary
from lab_5 import unique_letters


@pytest.mark.parametrize(
    "x, result",
    [
        ((1, 2, 3, 4, 5, 6), (12, 9)),
        (
            (-54, -77, -67, -2),
            (-56, -144),
        ),
        (
            (
                42,
                93,
                88,
                9,
                75,
                17,
                80,
                81,
                86,
                50,
                39,
                9,
                23,
                9,
                86,
                77,
                15,
                18,
                98,
                98,
                88,
                59,
                54,
                90,
                75,
                80,
                14,
                71,
                72,
                28,
                75,
                49,
                34,
                40,
                15,
                68,
                32,
                75,
                86,
                56,
                28,
                48,
                33,
                52,
                23,
                26,
                24,
                30,
                98,
                69,
                16,
                65,
                21,
                70,
                38,
                65,
                39,
                72,
                49,
                44,
                37,
                2,
                66,
                9,
                21,
                75,
                26,
                22,
                90,
                11,
                14,
                29,
                39,
                35,
                26,
                99,
                6,
                33,
                24,
                0,
                42,
                45,
                33,
                64,
                76,
                25,
                28,
                85,
                8,
                4,
                69,
                10,
                6,
                48,
                56,
                53,
                46,
                24,
                94,
                92,
            ),
            (2808, 1928),
        ),
        (
            (-54, -74, -49, -86, -4, -9, -24, -42, -68, -32, -7, -97, -37, -20, -37),
            (-404, -236),
        ),
        ((), (0, 0)),
    ],
)
@pytest.mark.timeout(0.3)
def test_transform_tuple(x, result):
    assert transform_tuple(x) == result


@pytest.mark.parametrize(
    "x, result",
    [
        (
            {"Alice": [88, 92, 100], "Bob": [75, 78, 80]},
            {
                "Alice": {"average": 93.33, "highest": 100},
                "Bob": {"average": 77.67, "highest": 80},
            },
        ),
        (
            {
                "S0": [16, 28, 39, 95, 49, 4],
                "S1": [8, 17],
                "S2": [74],
                "S3": [76, 58, 88, 87, 93, 83, 90, 22],
                "S4": [76],
                "S5": [99],
                "S6": [16, 72, 85, 22, 96],
                "S7": [52],
                "S8": [6, 36],
                "S9": [21, 36, 27],
            },
            {
                "S0": {"average": 38.5, "highest": 95},
                "S1": {"average": 12.5, "highest": 17},
                "S2": {"average": 74.0, "highest": 74},
                "S3": {"average": 74.62, "highest": 93},
                "S4": {"average": 76.0, "highest": 76},
                "S5": {"average": 99.0, "highest": 99},
                "S6": {"average": 58.2, "highest": 96},
                "S7": {"average": 52.0, "highest": 52},
                "S8": {"average": 21.0, "highest": 36},
                "S9": {"average": 28.0, "highest": 36},
            },
        ),
        (
            {
                "S0": [44],
                "S1": [22],
                "S2": [64],
                "S3": [50],
                "S4": [80],
                "S5": [80],
                "S6": [89],
                "S7": [89],
                "S8": [26],
                "S9": [15],
                "S10": [62],
                "S11": [59],
                "S12": [95],
                "S13": [24],
                "S14": [48],
                "S15": [97],
                "S16": [32],
                "S17": [51],
                "S18": [78],
                "S19": [7],
                "S20": [48],
                "S21": [95],
                "S22": [22],
                "S23": [58],
                "S24": [73],
                "S25": [5],
                "S26": [52],
                "S27": [47],
                "S28": [62],
                "S29": [93],
                "S30": [8],
                "S31": [94],
                "S32": [64],
                "S33": [32],
                "S34": [100],
                "S35": [50],
                "S36": [99],
                "S37": [32],
                "S38": [13],
                "S39": [69],
                "S40": [96],
                "S41": [59],
                "S42": [55],
                "S43": [45],
                "S44": [29],
                "S45": [98],
                "S46": [46],
                "S47": [1],
                "S48": [65],
                "S49": [3],
                "S50": [58],
                "S51": [66],
                "S52": [100],
                "S53": [41],
                "S54": [60],
                "S55": [13],
                "S56": [47],
                "S57": [28],
                "S58": [84],
                "S59": [79],
                "S60": [24],
                "S61": [28],
                "S62": [21],
                "S63": [15],
                "S64": [14],
                "S65": [79],
                "S66": [7],
                "S67": [10],
                "S68": [95],
                "S69": [76],
                "S70": [66],
                "S71": [16],
                "S72": [27],
                "S73": [58],
                "S74": [62],
                "S75": [16],
                "S76": [5],
                "S77": [94],
                "S78": [83],
                "S79": [1],
                "S80": [92],
                "S81": [6],
                "S82": [10],
                "S83": [32],
                "S84": [4],
                "S85": [95],
                "S86": [12],
                "S87": [7],
                "S88": [52],
                "S89": [76],
                "S90": [70],
                "S91": [76],
                "S92": [74],
                "S93": [31],
                "S94": [44],
                "S95": [25],
                "S96": [29],
                "S97": [67],
                "S98": [68],
                "S99": [31],
            },
            {
                "S0": {"average": 44.0, "highest": 44},
                "S1": {"average": 22.0, "highest": 22},
                "S10": {"average": 62.0, "highest": 62},
                "S11": {"average": 59.0, "highest": 59},
                "S12": {"average": 95.0, "highest": 95},
                "S13": {"average": 24.0, "highest": 24},
                "S14": {"average": 48.0, "highest": 48},
                "S15": {"average": 97.0, "highest": 97},
                "S16": {"average": 32.0, "highest": 32},
                "S17": {"average": 51.0, "highest": 51},
                "S18": {"average": 78.0, "highest": 78},
                "S19": {"average": 7.0, "highest": 7},
                "S2": {"average": 64.0, "highest": 64},
                "S20": {"average": 48.0, "highest": 48},
                "S21": {"average": 95.0, "highest": 95},
                "S22": {"average": 22.0, "highest": 22},
                "S23": {"average": 58.0, "highest": 58},
                "S24": {"average": 73.0, "highest": 73},
                "S25": {"average": 5.0, "highest": 5},
                "S26": {"average": 52.0, "highest": 52},
                "S27": {"average": 47.0, "highest": 47},
                "S28": {"average": 62.0, "highest": 62},
                "S29": {"average": 93.0, "highest": 93},
                "S3": {"average": 50.0, "highest": 50},
                "S30": {"average": 8.0, "highest": 8},
                "S31": {"average": 94.0, "highest": 94},
                "S32": {"average": 64.0, "highest": 64},
                "S33": {"average": 32.0, "highest": 32},
                "S34": {"average": 100.0, "highest": 100},
                "S35": {"average": 50.0, "highest": 50},
                "S36": {"average": 99.0, "highest": 99},
                "S37": {"average": 32.0, "highest": 32},
                "S38": {"average": 13.0, "highest": 13},
                "S39": {"average": 69.0, "highest": 69},
                "S4": {"average": 80.0, "highest": 80},
                "S40": {"average": 96.0, "highest": 96},
                "S41": {"average": 59.0, "highest": 59},
                "S42": {"average": 55.0, "highest": 55},
                "S43": {"average": 45.0, "highest": 45},
                "S44": {"average": 29.0, "highest": 29},
                "S45": {"average": 98.0, "highest": 98},
                "S46": {"average": 46.0, "highest": 46},
                "S47": {"average": 1.0, "highest": 1},
                "S48": {"average": 65.0, "highest": 65},
                "S49": {"average": 3.0, "highest": 3},
                "S5": {"average": 80.0, "highest": 80},
                "S50": {"average": 58.0, "highest": 58},
                "S51": {"average": 66.0, "highest": 66},
                "S52": {"average": 100.0, "highest": 100},
                "S53": {"average": 41.0, "highest": 41},
                "S54": {"average": 60.0, "highest": 60},
                "S55": {"average": 13.0, "highest": 13},
                "S56": {"average": 47.0, "highest": 47},
                "S57": {"average": 28.0, "highest": 28},
                "S58": {"average": 84.0, "highest": 84},
                "S59": {"average": 79.0, "highest": 79},
                "S6": {"average": 89.0, "highest": 89},
                "S60": {"average": 24.0, "highest": 24},
                "S61": {"average": 28.0, "highest": 28},
                "S62": {"average": 21.0, "highest": 21},
                "S63": {"average": 15.0, "highest": 15},
                "S64": {"average": 14.0, "highest": 14},
                "S65": {"average": 79.0, "highest": 79},
                "S66": {"average": 7.0, "highest": 7},
                "S67": {"average": 10.0, "highest": 10},
                "S68": {"average": 95.0, "highest": 95},
                "S69": {"average": 76.0, "highest": 76},
                "S7": {"average": 89.0, "highest": 89},
                "S70": {"average": 66.0, "highest": 66},
                "S71": {"average": 16.0, "highest": 16},
                "S72": {"average": 27.0, "highest": 27},
                "S73": {"average": 58.0, "highest": 58},
                "S74": {"average": 62.0, "highest": 62},
                "S75": {"average": 16.0, "highest": 16},
                "S76": {"average": 5.0, "highest": 5},
                "S77": {"average": 94.0, "highest": 94},
                "S78": {"average": 83.0, "highest": 83},
                "S79": {"average": 1.0, "highest": 1},
                "S8": {"average": 26.0, "highest": 26},
                "S80": {"average": 92.0, "highest": 92},
                "S81": {"average": 6.0, "highest": 6},
                "S82": {"average": 10.0, "highest": 10},
                "S83": {"average": 32.0, "highest": 32},
                "S84": {"average": 4.0, "highest": 4},
                "S85": {"average": 95.0, "highest": 95},
                "S86": {"average": 12.0, "highest": 12},
                "S87": {"average": 7.0, "highest": 7},
                "S88": {"average": 52.0, "highest": 52},
                "S89": {"average": 76.0, "highest": 76},
                "S9": {"average": 15.0, "highest": 15},
                "S90": {"average": 70.0, "highest": 70},
                "S91": {"average": 76.0, "highest": 76},
                "S92": {"average": 74.0, "highest": 74},
                "S93": {"average": 31.0, "highest": 31},
                "S94": {"average": 44.0, "highest": 44},
                "S95": {"average": 25.0, "highest": 25},
                "S96": {"average": 29.0, "highest": 29},
                "S97": {"average": 67.0, "highest": 67},
                "S98": {"average": 68.0, "highest": 68},
                "S99": {"average": 31.0, "highest": 31},
            },
        ),
        (
            {
                "S0": [17, 100, 63, 77, 22, 42, 8, 82, 9, 41, 39, 42, 3, 40, 39],
                "S1": [85, 10, 21, 89, 1, 88, 95, 36, 36, 41, 55, 27, 5, 40, 40],
                "S2": [3, 5, 1, 63, 65, 72, 32, 34, 65, 55, 84, 53, 16, 8, 96],
                "S3": [0, 9, 1, 18, 23, 63, 86, 11, 88, 92, 42, 82, 51, 10, 78],
                "S4": [69, 70, 21, 10, 77, 37, 100, 100, 45, 35, 97, 68, 77, 54, 12],
                "S5": [87, 0, 21, 93, 92, 79, 95, 18, 23, 47, 45, 98, 60, 100, 46],
                "S6": [51, 63, 49, 67, 74, 33, 74, 79, 33, 56, 25, 56, 10, 45, 45],
                "S7": [10, 26, 88, 40, 42, 21, 56, 75, 7, 84, 0, 93, 0, 48, 51],
                "S8": [40, 55, 92, 63, 26, 19, 47, 66, 66, 88, 22, 91, 79, 36, 12],
                "S9": [72, 80, 28, 36, 9, 29, 94, 64, 71, 24, 16, 69, 56, 53, 36],
            },
            {
                "S0": {"average": 41.6, "highest": 100},
                "S1": {"average": 44.6, "highest": 95},
                "S2": {"average": 43.47, "highest": 96},
                "S3": {"average": 43.6, "highest": 92},
                "S4": {"average": 58.13, "highest": 100},
                "S5": {"average": 60.27, "highest": 100},
                "S6": {"average": 50.67, "highest": 79},
                "S7": {"average": 42.73, "highest": 93},
                "S8": {"average": 53.47, "highest": 92},
                "S9": {"average": 49.13, "highest": 94},
            },
        ),
        (
            {
                "S0": [
                    63,
                    92,
                    14,
                    39,
                    80,
                    15,
                    100,
                    81,
                    41,
                    62,
                    51,
                    77,
                    8,
                    48,
                    13,
                    79,
                    58,
                    18,
                    63,
                    14,
                ],
                "S1": [
                    43,
                    46,
                    88,
                    30,
                    57,
                    98,
                    49,
                    18,
                    8,
                    47,
                    7,
                    69,
                    85,
                    27,
                    10,
                    63,
                    29,
                    27,
                    88,
                    95,
                ],
                "S2": [
                    81,
                    75,
                    51,
                    71,
                    88,
                    59,
                    49,
                    52,
                    98,
                    97,
                    42,
                    9,
                    85,
                    67,
                    10,
                    5,
                    37,
                    90,
                    0,
                    44,
                ],
                "S3": [
                    53,
                    33,
                    92,
                    89,
                    70,
                    96,
                    54,
                    38,
                    26,
                    91,
                    88,
                    22,
                    6,
                    43,
                    42,
                    28,
                    27,
                    14,
                    37,
                    89,
                ],
            },
            {
                "S0": {"average": 50.8, "highest": 100},
                "S1": {"average": 49.2, "highest": 98},
                "S2": {"average": 55.5, "highest": 98},
                "S3": {"average": 51.9, "highest": 96},
            },
        ),
    ],
)
@pytest.mark.timeout(0.3)
def test_grade_summary(x, result):
    assert grade_summary(x) == result


@pytest.mark.parametrize(
    "x, y, result",
    [
        ("banana", "papaya", ({"n", "b"}, {"p", "y"})),
        ("", "", (set(), set())),
        ("hello", "", (set("hello"), set())),
        ("hello", "world", ({"e", "h"}, {"w", "r", "d"})),
        ("hello", "hello", (set(), set())),
    ],
)
@pytest.mark.timeout(0.3)
def test_unique_letters(x, y, result):
    assert unique_letters(x, y) == result
